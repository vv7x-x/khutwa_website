<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>لوحة تحكم المطور المتقدمة | Matrix Hacker Panel</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=VT323&display=swap" rel="stylesheet">
  <style>
    html, body {
      height: 100%; margin: 0; padding: 0;
      background: #101618;
      font-family: 'Share Tech Mono', 'VT323', monospace;
      color: #00ff41;
      min-height: 100vh;
      overflow-x: hidden;
    }
    .matrix-bg {
      position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
      z-index: 0; pointer-events: none; opacity: 0.22;
      filter: blur(0.5px);
    }
    .panel-container {
      z-index: 2; position: relative; max-width: 1200px; margin: 0 auto; padding: 32px 0;
      display: flex; flex-wrap: wrap; gap: 32px; justify-content: center;
    }
    .panel-section {
      background: rgba(10,18,12,0.92);
      border-radius: 18px;
      box-shadow: 0 0 32px 0 #00ff4166, 0 2px 8px #00ff4122;
      border: 1.5px solid #00ff41;
      color: #00ff41;
      font-family: 'Share Tech Mono', 'VT323', monospace;
      min-width: 320px; max-width: 420px; flex: 1 1 340px;
      padding: 24px 18px 18px 18px; margin-bottom: 18px;
      transition: box-shadow 0.4s, background 0.4s, transform 0.5s cubic-bezier(.4,2,.6,1);
      overflow: hidden;
    }
    .panel-section h3 {
      margin-top: 0; margin-bottom: 18px; font-size: 1.3rem; letter-spacing: 1.5px;
      color: #baffc9; text-shadow: 0 0 8px #00ff41cc;
    }
    .panel-section label {
      display: block; margin-bottom: 4px; color: #00ff41; font-weight: 600;
    }
    .panel-section input, .panel-section textarea, .panel-section select {
      width: 100%; padding: 8px; border-radius: 7px; border: 1.5px solid #00ff41;
      background: #101618; color: #00ff41; font-size: 1.01rem; outline: none;
      margin-bottom: 10px; font-family: inherit;
    }
    .panel-section input[type="color"] { width: 48px; height: 32px; padding: 0; }
    .panel-section input[type="checkbox"] { width: auto; }
    .panel-section .row { display: flex; gap: 8px; align-items: center; }
    .panel-section .row > * { flex: 1; }
    .panel-section .actions { text-align: center; margin-top: 18px; }
    .panel-section button {
      background: #101618; color: #00ff41; border: 2px solid #00ff41;
      border-radius: 8px; font-size: 1.1em; font-weight: bold; cursor: pointer;
      transition: background 0.3s, color 0.3s, transform 0.2s, box-shadow 0.3s;
      margin: 0 4px; padding: 10px 18px;
      text-shadow: 0 0 8px #00ff41cc;
    }
    .panel-section button:hover {
      background: #00ff41; color: #101618; transform: scale(1.04);
      box-shadow: 0 0 24px #00ff41cc;
    }
    .live-preview {
      background: #181c24; border: 2px solid #00ff41; border-radius: 12px;
      margin-top: 18px; padding: 18px; color: #baffc9; min-height: 120px;
      font-size: 1.1em; font-family: inherit;
      box-shadow: 0 0 18px #00ff4166;
    }
    /* Scrollbar */
    ::-webkit-scrollbar { width: 8px; background: #101618; }
    ::-webkit-scrollbar-thumb { background: #00ff41; border-radius: 8px; }
    ::selection { background: #00ff41; color: #101618; }
    @media (max-width: 900px) {
      .panel-container { flex-direction: column; gap: 0; padding: 8px 0; }
      .panel-section { min-width: 0; max-width: 99vw; margin-bottom: 18px; }
    }
  </style>
</head>
<body>
  <canvas id="matrix-bg" class="matrix-bg"></canvas>
  <div class="panel-container">
    <div class="panel-section" id="generalSection">
      <h3>المعلومات العامة</h3>
      <label>اسم المطور</label>
      <input type="text" id="devName">
      <label>نبذة عنك</label>
      <textarea id="devBio"></textarea>
      <label>صورة المطور</label>
      <input type="file" id="devAvatar" accept="image/*">
      <div class="live-preview" id="avatarPreview"></div>
    </div>
    <div class="panel-section" id="appearanceSection">
      <h3>المظهر والتصميم</h3>
      <label>لون الخلفية</label>
      <input type="color" id="devBg">
      <label>لون النص</label>
      <input type="color" id="devColor">
      <label>الخط الرئيسي</label>
      <select id="mainFont">
        <option value="Share Tech Mono, VT323, monospace">Share Tech Mono (هكر)</option>
        <option value="Cairo, Arial, sans-serif">Cairo (عربي عصري)</option>
        <option value="Montserrat, Arial, sans-serif">Montserrat (لاتيني عصري)</option>
        <option value="Tajawal, Arial, sans-serif">Tajawal (عربي بسيط)</option>
        <option value="Amiri, serif">Amiri (عربي كلاسيكي)</option>
        <option value="Changa, Arial, sans-serif">Changa (عربي شبابي)</option>
        <option value="VT323, monospace">VT323 (رقمي/ألعاب)</option>
      </select>
      <label>اللون الرئيسي للتأثيرات</label>
      <input type="color" id="mainColor">
      <label><input type="checkbox" id="bgAnim"> تفعيل الخلفية المتحركة</label>
    </div>
    <div class="panel-section" id="contentSection">
      <h3>إدارة المكونات والمحتوى</h3>
      <label>رسالة مخصصة</label>
      <textarea id="devMsg"></textarea>
      <label>إظهار صورة المطور <input type="checkbox" id="showAvatar"></label>
      <label>إظهار النبذة <input type="checkbox" id="showBio"></label>
      <label>إظهار وسائل التواصل <input type="checkbox" id="showSocial"></label>
      <label>إظهار زر العودة <input type="checkbox" id="showBackBtn"></label>
      <div class="row">
        <label>رابط واتساب</label>
        <input type="text" id="waLink">
      </div>
      <div class="row">
        <label>رابط إنستجرام</label>
        <input type="text" id="instaLink">
      </div>
      <div class="row">
        <label>رابط فيسبوك</label>
        <input type="text" id="fbLink">
      </div>
      <div class="row">
        <label>رقم الهاتف</label>
        <input type="text" id="phone">
      </div>
    </div>
    <div class="panel-section" id="advancedSection">
      <h3>خيارات متقدمة</h3>
      <label>تفعيل الأصوات <input type="checkbox" id="sound"></label>
      <label>تشغيل صوت ترحيبي <input type="checkbox" id="welcome"></label>
      <label>تخصيص CSS مباشر</label>
      <textarea id="customCSS" placeholder="اكتب CSS مخصص هنا..."></textarea>
      <label>تخصيص JavaScript مباشر</label>
      <textarea id="customJS" placeholder="اكتب كود JS مخصص هنا..."></textarea>
      <div class="actions">
        <button id="exportBtn">تصدير الإعدادات</button>
        <button id="importBtn">استيراد الإعدادات</button>
      </div>
    </div>
    <div class="panel-section" id="livePreviewSection">
      <h3>معاينة حية لصفحة المطور</h3>
      <iframe id="devPreview" src="developer-info.html" style="width:100%;height:400px;border:2px solid #00ff41;background:#181c24;"></iframe>
    </div>
  </div>
  <script>
    // تأثير Matrix متحرك للخلفية
    const matrixCanvas = document.getElementById('matrix-bg');
    const ctxMatrix = matrixCanvas.getContext('2d');
    function resizeMatrix() {
      matrixCanvas.width = window.innerWidth;
      matrixCanvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resizeMatrix);
    resizeMatrix();
    const letters = '01ABCDEFGHIJKLMNOPQRSTUVWXYZ#$%&@'.split('');
    const fontSize = 20;
    let columns = Math.floor(window.innerWidth / fontSize);
    let drops = Array(columns).fill(1).map(() => Math.random() * matrixCanvas.height / fontSize);
    let gradientOffset = 0;
    function drawMatrix() {
      const grad = ctxMatrix.createLinearGradient(0, 0, matrixCanvas.width, matrixCanvas.height);
      grad.addColorStop(0, '#181c24');
      grad.addColorStop(0.3 + 0.2*Math.sin(gradientOffset), '#003a1a');
      grad.addColorStop(0.5 + 0.2*Math.cos(gradientOffset/2), '#00ffb033');
      grad.addColorStop(1, '#232526');
      ctxMatrix.fillStyle = grad;
      ctxMatrix.globalAlpha = 0.22;
      ctxMatrix.fillRect(0, 0, matrixCanvas.width, matrixCanvas.height);
      ctxMatrix.globalAlpha = 1;
      ctxMatrix.font = fontSize + "px 'Share Tech Mono', 'VT323', monospace";
      for(let i = 0; i < drops.length; i++) {
        ctxMatrix.save();
        ctxMatrix.shadowColor = '#00ffb0';
        ctxMatrix.shadowBlur = 16;
        let isBright = Math.random() > 0.92;
        ctxMatrix.fillStyle = isBright ? '#baffc9' : '#00ffb0';
        if(isBright) ctxMatrix.globalAlpha = 0.95; else ctxMatrix.globalAlpha = 0.7 + 0.2*Math.random();
        const text = letters[Math.floor(Math.random()*letters.length)];
        ctxMatrix.fillText(text, i*fontSize, drops[i]*fontSize);
        ctxMatrix.restore();
        ctxMatrix.globalAlpha = 1;
        if(drops[i]*fontSize > matrixCanvas.height && Math.random() > 0.975) {
          drops[i] = 0;
        }
        drops[i] += 0.9 + Math.random()*0.7;
      }
      gradientOffset += 0.008;
      requestAnimationFrame(drawMatrix);
    }
    window.addEventListener('resize', () => {
      columns = Math.floor(window.innerWidth / fontSize);
      drops = Array(columns).fill(1).map(() => Math.random() * matrixCanvas.height / fontSize);
    });
    drawMatrix();
    // إعدادات ديناميكية
    function saveSettings() {
      const settings = {
        devName: document.getElementById('devName').value,
        devBio: document.getElementById('devBio').value,
        devBg: document.getElementById('devBg').value,
        devColor: document.getElementById('devColor').value,
        mainFont: document.getElementById('mainFont').value,
        mainColor: document.getElementById('mainColor').value,
        bgAnim: document.getElementById('bgAnim').checked,
        avatar: document.getElementById('showAvatar').checked,
        bio: document.getElementById('showBio').checked,
        social: document.getElementById('showSocial').checked,
        backBtn: document.getElementById('showBackBtn').checked,
        waLink: document.getElementById('waLink').value,
        instaLink: document.getElementById('instaLink').value,
        fbLink: document.getElementById('fbLink').value,
        phone: document.getElementById('phone').value,
        sound: document.getElementById('sound').checked,
        welcome: document.getElementById('welcome').checked,
        devMsg: document.getElementById('devMsg').value,
        customCSS: document.getElementById('customCSS').value,
        customJS: document.getElementById('customJS').value,
        devAvatar: localStorage.getItem('devAvatarImage') || ''
      };
      localStorage.setItem('advancedSettings', JSON.stringify(settings));
      localStorage.setItem('advancedSettings_update', Date.now().toString());
      updatePreview();
      // تحديث iframe
      const iframe = document.getElementById('devPreview');
      if(iframe) iframe.contentWindow.location.reload();
    }
    // تحميل صورة المطور
    document.getElementById('devAvatar').addEventListener('change', function(e) {
      const file = e.target.files[0];
      if(file) {
        const reader = new FileReader();
        reader.onload = function(evt) {
          localStorage.setItem('devAvatarImage', evt.target.result);
          document.getElementById('avatarPreview').innerHTML = `<img src='${evt.target.result}' style='width:80px;height:80px;border-radius:50%;border:2px solid #00ff41;box-shadow:0 0 18px #00ff4199;'>`;
          saveSettings();
        };
        reader.readAsDataURL(file);
      }
    });
    // تحميل الإعدادات عند الفتح
    window.addEventListener('DOMContentLoaded', function() {
      const s = JSON.parse(localStorage.getItem('advancedSettings')||'{}');
      if(s.devName) document.getElementById('devName').value = s.devName;
      if(s.devBio) document.getElementById('devBio').value = s.devBio;
      if(s.devBg) document.getElementById('devBg').value = s.devBg;
      if(s.devColor) document.getElementById('devColor').value = s.devColor;
      if(s.mainFont) document.getElementById('mainFont').value = s.mainFont;
      if(s.mainColor) document.getElementById('mainColor').value = s.mainColor;
      document.getElementById('bgAnim').checked = s.bgAnim !== false;
      document.getElementById('showAvatar').checked = s.avatar !== false;
      document.getElementById('showBio').checked = s.bio !== false;
      document.getElementById('showSocial').checked = s.social !== false;
      document.getElementById('showBackBtn').checked = s.backBtn !== false;
      if(s.waLink) document.getElementById('waLink').value = s.waLink;
      if(s.instaLink) document.getElementById('instaLink').value = s.instaLink;
      if(s.fbLink) document.getElementById('fbLink').value = s.fbLink;
      if(s.phone) document.getElementById('phone').value = s.phone;
      document.getElementById('sound').checked = s.sound !== false;
      document.getElementById('welcome').checked = s.welcome !== false;
      if(s.devMsg) document.getElementById('devMsg').value = s.devMsg;
      if(s.customCSS) document.getElementById('customCSS').value = s.customCSS;
      if(s.customJS) document.getElementById('customJS').value = s.customJS;
      if(localStorage.getItem('devAvatarImage')) {
        document.getElementById('avatarPreview').innerHTML = `<img src='${localStorage.getItem('devAvatarImage')}' style='width:80px;height:80px;border-radius:50%;border:2px solid #00ff41;box-shadow:0 0 18px #00ff4199;'>`;
      }
      updatePreview();
    });
    // تحديث الإعدادات عند أي تغيير
    document.querySelectorAll('.panel-section input, .panel-section textarea, .panel-section select').forEach(el => {
      el.addEventListener('input', saveSettings);
      el.addEventListener('change', saveSettings);
    });
    // تصدير واستيراد الإعدادات
    document.getElementById('exportBtn').onclick = function(e){
      e.preventDefault();
      const data = localStorage.getItem('advancedSettings')||'{}';
      const blob = new Blob([data], {type:'application/json'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url; a.download = 'dev-settings.json';
      a.click();
      URL.revokeObjectURL(url);
    };
    document.getElementById('importBtn').onclick = function(e){
      e.preventDefault();
      const inp = document.createElement('input');
      inp.type = 'file'; inp.accept = '.json,application/json';
      inp.onchange = function(ev){
        const file = ev.target.files[0];
        if(file){
          const reader = new FileReader();
          reader.onload = function(evt){
            localStorage.setItem('advancedSettings', evt.target.result);
            localStorage.setItem('advancedSettings_update', Date.now().toString());
            window.location.reload();
          };
          reader.readAsText(file);
        }
      };
      inp.click();
    };
    // معاينة حية (اختصار)
    function updatePreview() {
      // يمكن تطويرها لاحقاً لعرض معاينة مباشرة بدون iframe
    }
    // دعم تخصيص CSS/JS مباشر
    function applyCustomCode() {
      const s = JSON.parse(localStorage.getItem('advancedSettings')||'{}');
      if(s.customCSS){
        let style = document.getElementById('customCSSStyle');
        if(!style){
          style = document.createElement('style');
          style.id = 'customCSSStyle';
          document.head.appendChild(style);
        }
        style.textContent = s.customCSS;
      }
      if(s.customJS){
        let script = document.getElementById('customJSScript');
        if(!script){
          script = document.createElement('script');
          script.id = 'customJSScript';
          document.body.appendChild(script);
        }
        script.textContent = s.customJS;
      }
    }
    window.addEventListener('DOMContentLoaded', applyCustomCode);
  </script>
</body>
</html>
